{"version":3,"sources":["verifyAccess.js"],"names":["verifyAccess","requiredRole","req","res","next","role","regeneratorRuntime","async","_context","prev","user","abrupt","status","json","message","t0","console","log","stop"],"mappings":"2FAEA,IAAMA,aAAa,SAASC,GAC5B,OAAO,SAAMC,EAAIC,EAAIC,GAAd,IAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAJ,MAAA,KAAA,EAAA,GAAAI,EAAAC,KAAA,EADDT,EAAaE,EAAAQ,KAAbV,KACCC,IAAMC,EAAN,OAAAM,EAAAG,OAAA,SAAAR,EAAAS,OAAA,KAAAC,KAAA,CAAAD,OAAA,IAAAE,QAAA,kCAAAN,EAAAJ,KAAA,EAAA,MAAA,KAAA,EAAA,OAAAI,EAAAG,OAAA,SAAAP,KAAA,KAAA,EAAAI,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,MAAA,GAcCQ,QAAQC,IAART,EAAAO,IAdD,KAAA,GAAA,IAAA,MAAA,OAAAP,EAAAU,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,gBAmBQlB","file":"verifyAccess.min.js","sourcesContent":["\r\n\r\nconst verifyAccess=function(requiredRole){\r\nreturn async(req,res,next)=>{\r\n    try{\r\n        \r\n        //const {role:role}=req.user;\r\n        const role=req.user.role;\r\n        if(requiredRole !==role){\r\n            return res.status(403).json({\r\n                status:403,\r\n                message: \"you are not authorized 🤷‍♀️\"\r\n            })\r\n        }\r\n        return next();\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n}\r\nexport default verifyAccess;"]}